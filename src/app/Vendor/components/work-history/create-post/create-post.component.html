<!-- Button trigger modal -->
<div class="d-flex justify-content-center">
<button title="أضف سابقة أعمال" type="button" class="btn btn-primary w-50 py-3 mb-3 shadow " data-bs-toggle="modal" data-bs-target="#create-post">
    <i class="fa fa-add text-white"></i> اضافة منشور
</button>
</div>
<!-- Modal -->
<div class="modal fade" id="create-post" tabindex="-1" aria-labelledby="create-postLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="create-postLabel">إضافة سابقة أعمال</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form [formGroup]="postForm" (ngSubmit)="submitPost()">
                    <div class="mb-3">
                      <label for="" class="form-label">العنوان</label>
                      <input type="text" id="title" class="form-control" formControlName="title" aria-describedby="helpId">
                      <div *ngIf="postForm?.get('title')?.invalid && postForm?.get('title')?.touched" >
                        <small class="text-danger">
                            العنوان يجب أن يحتوي  على 3-30 حرفًا
                        </small>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="" class="form-label">الوصف</label>
                        <textarea id="description" class="form-control" formControlName="description" rows="5"></textarea>

                    </div>
                    <div class="mb-3">
                        <label for="" class="form-label">مرفقات</label>
                        <br>
                        <input type="file" id="attachments" accept=".jpg,.png" multiple formControlName="attachments">
                        <!-- <div *ngIf="postForm?.get('attachments')?.invalid && postForm?.get('attachments')?.touched" >
                            <small class="text-danger"> يجب ان ترفق صورة واحده علي اقل و ان تكون بصيغة
                            jpg او png
                        </small>
                          </div> -->
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" (click)="submitPost()"
                [ngClass]="{ 'btn-primary': formIsValid, 'invalid-button': !formIsValid }"
            [disabled]="!formIsValid"
                >إضافة</button>

                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">إلغاء</button>
            </div>
        </div>
    </div>
</div>
