<div class="table-responsive">
  <table class="table table-bordered">
    <thead class="text-center">
      <tr>
        <th>#</th>

        <th>اسم العميل</th>
        <th>تاريخ الحجز</th>
        <th>الخدمة</th>
        <th>العنوان</th>
        <th *ngIf="activeTab == 'all'">الحالة</th>
        <th *ngIf="activeTab != 'a' && activeTab != 'r'">إجراء</th>

      </tr>

    </thead>
    <tbody class="text-center">
      <tr *ngFor="let Reservation of Reservations , let i = index; ">
        <td>{{i+1}}</td>
        <td class="d-flex justify-content-between">
          <a class="text-decoration-none" href="javascript:void(0);" (click)="openCustomerModal(Reservation.user)"
            data-bs-toggle="modal" data-bs-target="#customerModal">
            <img src="{{apiUrl}}/{{Reservation.user.id}}/profilepicture/{{Reservation.user.picUrl}}" alt="صورة العميل"
              class="img-vendor">
            <span> {{ Reservation.user.name }}</span>
          </a>
        </td>
        <td>{{ Reservation.dateTime | dateFormatArabic }}</td>
        <td>{{ Reservation.service.title }}</td>
        <td>{{ Reservation.address }}</td>
        <td *ngIf="activeTab == 'all'">
          <ng-container [ngSwitch]="Reservation.status">
            <span *ngSwitchCase="'p'"
              [ngStyle]="{'color': 'black', 'background-color': '#FFFF00', 'border-radius': '7px'}">معلقة</span>
            <span *ngSwitchCase="'a'"
              [ngStyle]="{'color': 'white', 'background-color': '#008000', 'border-radius': '7px'}">تمت</span>
            <span *ngSwitchCase="'r'"
              [ngStyle]="{'color': 'white', 'background-color': '#FF0000', 'border-radius': '7px'}">تم رفضها</span>
            <span *ngSwitchDefault>Other Status</span>
            <span *ngSwitchDefault>Other Status</span>
            <span *ngSwitchDefault>Other Status</span>
          </ng-container>
        </td>

        <td *ngIf="activeTab != 'a' && activeTab != 'r'" >
          <ng-container *ngIf="Reservation.status === 'p' else noButtons" >
          <button  class="btn btn-success acceptBtn" (click)="acceptReservation(Reservation)" >قبول</button>
          <button  class="btn btn-danger rejectBtn" (click)="rejectReservation(Reservation)">رفض</button>
        </ng-container>
        <ng-template #noButtons>
          <span><hr style="color: green; font-size: smaller;"></span>
        </ng-template>
        </td>
      </tr>
    </tbody>
  </table>
</div>


<!-- modal -->

<div class="modal fade" id="customerModal" tabindex="-1" role="dialog" aria-labelledby="customerModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="customerModalLabel">بيانات العميل</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="customer-info">
          <!-- Add the customer image here -->
          <img src="{{apiUrl}}/{{selectedCustomer?.id}}/profilepicture/{{selectedCustomer?.picUrl}}" alt="صورة العميل" class="customer-image">
          <div class="customer-details">
            <p><strong>الأسم</strong> {{ selectedCustomer?.name }}</p>
            <p><strong>رقم الهاتف</strong> {{ selectedCustomer?.phoneNumber }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>